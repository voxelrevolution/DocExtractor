# T02.1.1 Dependencies & Blockers – Document Import System Scoping

**Task:** T02.1.1_JD-PM001_ScopeImportRequirements  
**Role:** PM-001 (Scoping Agent)  
**Date:** 2026-01-14  
**Status:** COMPLETE

---

## Blocking Questions – Status Summary

### All Blockers RESOLVED ✅

| Blocker | Impact | Status | Resolution |
|---------|--------|--------|-----------|
| **What happens with corrupted files?** | Determines error handling | ✅ RESOLVED | Skip file, log error, continue batch |
| **Do we support resumable imports?** | MVP scope boundary | ✅ RESOLVED | No; defer to Phase 2 after CLI proven |
| **What's the storage limit?** | Memory/UX constraints | ✅ RESOLVED | 100 docs per batch; 500 hard limit |
| **Do we need encryption for stored docs?** | Security/compliance | ✅ RESOLVED | No in MVP; filesystem permissions; Phase 2 adds encryption |
| **What compliance requirements apply?** | Feature set | ✅ RESOLVED | Air-gap (no cloud); local-only confirmed |

**Zero Unresolved Blockers:** Implementation can proceed ✅

---

## BLOCKER #1: What Happens with Corrupted Files?

**Question:** How does the system handle PDFs that fail to parse or DOCXs with corrupt metadata?

**Impact:** Determines whether we use all-or-nothing or partial-success error model. Affects UX and error messages.

**Status:** ✅ RESOLVED

**Decision:**
- **Partial Success Model** – Skip corrupted file, record error with details, continue processing rest of batch
- **Error Recording** – Log file name, error code, error message; provide to user at end of batch
- **User Options** – User can re-upload the file after fixing or just accept the loss (based on importance)

**Rationale:**
- All-or-nothing is frustrating (one bad file ruins entire batch)
- Partial success matches user expectations ("get what you can")
- Detailed logging enables debugging

**Next Steps:**
- T02.1.3 (Implementation) will implement error capture and logging
- T02.1.4 (Testing) will test corrupt file scenarios

**Risk:** None; deferred details handled in design/test phases

---

## BLOCKER #2: Do We Support Resumable Imports?

**Question:** Can users pause a 100-document batch halfway through and resume later?

**Impact:** Scope and complexity. Affects database schema and batch tracking.

**Status:** ✅ RESOLVED (Deferred to Phase 2)

**Decision:**
- **MVP:** No resumable imports. Once started, batch must complete or fail completely. If user closes app mid-batch, batch is lost.
- **Phase 2:** Add resumability using job IDs and checkpoint system

**Rationale:**
- MVP focus: Get core import working
- Resumability adds: Database schema for job tracking, idempotency logic, checkpoint logic
- Pilot customers don't require resumability (batches are small, < 5 min)
- Phase 2 can add this cleanly without rearchitecting

**Next Steps:**
- T02.1.3 will not implement resumability
- Phase 2 spike will design resumable batch system

**Risk:** Low – customers unlikely to demand in MVP; can defer safely

---

## BLOCKER #3: What's the Storage Limit on Local Device?

**Question:** How many documents total can be stored? Do we throttle if device runs out of space?

**Impact:** Affects product feature set (infinite storage vs quota) and error handling.

**Status:** ✅ RESOLVED (Defer to Phase 2)

**Decision:**
- **MVP:** No quota enforcement. Documents stored indefinitely on device; user responsible for device storage management
- **Phase 2:** Add quota system with warnings

**Rationale:**
- MVP simplicity: No quota logic needed
- Users understand "storage = device storage"
- Phase 2 can add intelligent quota (warnings at 80%, errors at 95%)
- Pilot customers have ample storage; not a blocker

**Next Steps:**
- T02.1.3 will not implement quota
- Phase 2 will design quota system with user controls

**Risk:** Low – pilot customers have sufficient storage; can defer safely

---

## BLOCKER #4: Do We Need Encryption for Stored Documents?

**Question:** Should imported documents and metadata be encrypted at rest?

**Impact:** Security baseline and compliance posture. Affects feature positioning.

**Status:** ✅ RESOLVED (Defer to Phase 2)

**Decision:**
- **MVP:** No encryption at rest. Rely on OS-level filesystem permissions (device login)
- **Phase 2:** Add full-disk encryption + SQLite database encryption

**Rationale:**
- MVP acceptable: Local device, user login is auth barrier
- Security Lead approved this (Phase 2 adds encryption for government compliance)
- Encryption adds complexity; MVP focuses on functionality
- Phase 2 targets government customers who require encryption

**Security Confirmation:**
✅ Security Lead approved deferring encryption to Phase 2 with commitment to ship in Phase 2

**Next Steps:**
- T02.1.3 will not implement encryption
- Phase 2 spike will design encryption (full-disk + database)

**Risk:** Low – approved by Security Lead; Phase 2 commitment documented

---

## BLOCKER #5: What Compliance Requirements Apply?

**Question:** Are there regulatory, industry, or contractual requirements affecting import system design?

**Impact:** Affects feature set, architecture, and deployment model.

**Status:** ✅ RESOLVED

**Decision:**
- **Primary Requirement:** Local-only (no cloud transmission) – hard requirement for government customers
- **Secondary Requirement:** Air-gap capable (works without internet)
- **Tertiary Requirement:** Audit trail for compliance reporting

**Confirmed Compliance Requirements:**
- ✅ No cloud transmission (government customers require)
- ✅ Air-gap capable (strategic competitive advantage)
- ✅ Audit logging (local JSON logs for troubleshooting and compliance)

**NOT Required in MVP:**
- ❌ HIPAA compliance (no healthcare customers yet)
- ❌ PCI compliance (no payment card data handled)
- ❌ SOC 2 audit (Phase 2)
- ❌ Data residency restrictions (handled by local-only requirement)

**Next Steps:**
- T02.1.3 will ensure zero network calls (code review gate)
- T02.1.3 will implement detailed audit logging
- Phase 2 will add encryption for government contract compliance

**Risk:** None – requirements are clear and implementable

---

## Dependencies – What Must Complete First?

### Dependency #1: E01 Complete ✅

**Dependency:** E01 (Local Document Extraction Platform Foundation) must be complete before E02 starts.

**Status:** ✅ SATISFIED
- E01 complete: 10/10 deliverables done, all DoD gates passed
- E01 validated: internal + external validation complete
- E02 can start immediately

**Impact on T02.1.1:** None – E01 already done; no wait needed

---

### Dependency #2: Metadata Store Design (R02.1.2)

**Dependency:** T02.1.1 scoping informs R02.1.2 metadata store design.

**Status:** ✅ READY TO INFORM
- T02.1.1 complete: File types, batch size, error handling defined
- R02.1.2 design phase (T02.2.Y tasks) will use these decisions to design SQLite schema

**Impact on T02.1.1:** No impact – T02.1.1 can complete independently

---

### Dependency #3: T02.1.2 Readiness (Design Phase)

**Dependency:** T02.1.2 (Design Import Engine) depends on T02.1.1 scoping.

**Status:** ✅ READY TO UNBLOCK
- T02.1.1 scope decisions are complete
- T02.1.2 can now start (DEV-024 designs architecture around these specs)

**Impact on T02.1.1:** T02.1.1 outputs feed into T02.1.2 design requirements

---

## Risks & Mitigations

### Risk #1: Document Size Variance

**Risk:** Average document size assumption (5MB) may be wrong; some customers might have huge PDFs.

**Severity:** Medium  
**Impact:** Could cause OOM errors or slow performance

**Mitigation:**
- T02.1.3 implementation will profile memory with 100-doc batches
- T02.1.4 testing will test with large files (50MB+ PDFs)
- If memory pressure observed, reduce batch size in Phase 2

**Contingency:** If batch size 100 proves problematic, fall back to 50-doc default

---

### Risk #2: Error Recovery Complexity

**Risk:** Partial batch success model might confuse users; unclear which files succeeded vs failed.

**Severity:** Medium  
**Impact:** Support tickets about "where did my documents go?"

**Mitigation:**
- T02.1.3 will implement clear error messaging (per-file summary)
- T02.1.4 will test error scenarios with users
- UI/UX phase (Phase 2) will design better error visualization

---

### Risk #3: Local Database Scalability

**Risk:** SQLite may not scale well as documents accumulate (100k+ documents).

**Severity:** Low (Phase 2 concern)  
**Impact:** May require migration to PostgreSQL or other DB in Phase 2

**Mitigation:**
- MVP uses SQLite (simple, portable)
- Phase 2 will evaluate migration needs
- Design keeps DB abstraction layer (switching DBs later is feasible)

---

### Risk #4: OCR Dependency Creep

**Risk:** Customers request image support (requires OCR) in MVP, pushing scope.

**Severity:** Medium  
**Impact:** Could delay MVP if scope expands

**Mitigation:**
- Product Owner confirmed MVP is PDF + DOCX only
- Images explicitly deferred to Phase 2
- Gate in T02.1.2 design to prevent image support

---

## Next Steps & Handoff

### T02.1.2 (Design Phase) – Ready to Start ✅

**Dependencies Satisfied:**
- ✅ Scoping complete (T02.1.1)
- ✅ Acceptance criteria documented
- ✅ Blockers resolved
- ✅ Stakeholder alignment confirmed

**Inputs for DEV-024 (Design):**
- File types: PDF + DOCX
- Batch size: 100 documents max
- Performance target: < 500ms per document
- Error handling: Partial success model
- Local-only: No network calls
- Audit logging: Detailed JSON logs

**Design Deliverables (T02.1.2):**
- Architecture diagram
- File format handling decisions
- Memory optimization strategy
- Error handling flowchart
- Batch processing pipeline design

---

## Summary

**All Blocking Questions Resolved:** ✅  
**All Dependencies Satisfied:** ✅  
**Risk Assessment:** Low – all identified risks have mitigations  

**Status: READY FOR IMPLEMENTATION PHASE**

Next task: T02.1.2 (DEV-024 designs import engine)

---

## Document Status

- **Date Created:** 2026-01-14
- **Owner:** PM-001 (Scoping Agent)
- **Reviewer:** QC-101 (see sign-off)
- **Status:** ✅ FINAL

# Task Specification

**Task ID:** T03.1.1_JD-PM003_DefineInvoiceSchema

---

## SECTION 1: GOVERNANCE (EMBEDDED)

#### Task Deliverable (Specification File)

| Property | Value |
|---|---|
| **File Name** | T03.1.1_JD-PM003_DefineInvoiceSchema.md |
| **Location** | /roadmap/R01_LocalDocExtractionPlatform/epics/E03_InvoiceExtractionPipeline/deliverables/D03.1_InvoiceTemplateBuilder/requirements/R03.1.1_InvoiceTemplates/tasks/ |
| **Owner** | PM-003 |
| **Purpose** | Task specification + acceptance criteria + DoD checklist |

#### Evidence Artifacts (Created as Task Progresses)

| Artifact Type | File Name Pattern | Location | Owner | Purpose |
|---|---|---|---|---|
| Scoping Report | T03.1.1_JD-PM003_ScopingReport.md | /evidence/R03.1.1_InvoiceTemplates/ | PM-003 | Scope definition |
| Design Document | T03.1.1_JD-PM003_Design.md | /evidence/R03.1.1_InvoiceTemplates/ | PM-003 | Schema definition |
| Test Results | T03.1.1_JD-PM003_TestResults.md | /evidence/R03.1.1_InvoiceTemplates/ | PM-003 | Validation evidence |
| Completion Summary | T03.1.1_JD-PM003_CompletionSummary.md | /evidence/R03.1.1_InvoiceTemplates/ | PM-003 | Delivery summary |
| Sign-Off | T03.1.1_JD-QC101_SignOff.md | /evidence/R03.1.1_InvoiceTemplates/ | QC-101 | External approval |

---

## SECTION 2: TASK DEFINITION

### Objective (One Sentence)
Define the canonical invoice schema and field definitions for E03 MVP extraction and review.

### Description
- Specify required vs optional fields (header + line items).
- Define field normalization rules (date, currency, identifiers).
- Document evidence requirements per field.
- Align schema with MVP acceptance criteria and downstream export needs.

### Acceptance Criteria
- Canonical invoice schema documented and approved.
- Field list includes header + line items with clear types.
- Evidence requirements defined for every field.
- Acceptance criteria cover happy path + edge case.

### Assigned JD Role
**Role:** PM-003 â€“ Senior Product Manager (non-delegable)

### Dependencies (Blocking This Task)
- E01 core schemas and governance complete.

### Downstream Tasks (That This Unblocks)
- T03.2.1 LLM extraction implementation
- T03.3.1 line item parsing strategy
- T03.7.1 benchmark design

---

## SECTION 3: ACCEPTANCE CRITERIA & DEFINITION OF DONE

Requirement: **R03.1.1**

#### DoD Checklist (8 Gates)
- [x] Gate 1: Specification Complete
- [x] Gate 2: Approach Defined
- [x] Gate 3: Implementation Complete
- [x] Gate 4: Testing Verified
- [x] Gate 5: JD Context Embedded
- [x] Gate 6: Artifacts Collected
- [x] Gate 7: Documentation Updated
- [ ] Gate 8: QC-101 Approval

---

## SECTION 4: JD CONTEXT (PRELOADED)

### Role: Senior Product Manager
**Agent ID:** PM-003

**Key Responsibilities for This Task:**
- Define MVP slice and acceptance criteria.
- Align schema with user outcomes and business goals.
- Document risks, dependencies, and success metrics.

**World-Class Behaviors Expected:**
- Clear problem definition and MVP scope.
- Acceptance criteria cover happy path and edge case.
- Risks and dependencies recorded with owners.

**Output Expectations:**
- Approved schema definition and field list.
- Acceptance criteria and normalization rules documented.

---

## SECTION 5: EVIDENCE COLLECTION CHECKLIST
- [x] Task spec file created
- [x] Scoping report created
- [x] Schema design document created
- [x] Test/validation notes captured
- [x] Completion summary filed
- [ ] QC-101 sign-off captured

# T04.4.3_JD-AGENT002_PromptContract

**JD used:** AGENT-002 (Prompt Systems Engineer)

**Requirement:** R04.4.1 â€“ Copilot Chat

## Objective
Define and validate a minimal, schema-first prompt contract for DocExtractor chat such that responses are stable and machine-consumable.

## Acceptance Criteria
- Chat prompt instructs JSON output with a stable contract: `{ "reply": string }`.
- Implementation requests JSON formatting from Ollama (`format: "json"`) and parses safely.
- Known failure modes (non-JSON / timeout / Ollama unavailable) have deterministic fallbacks.
- Evidence includes a smoke test demonstrating valid JSON output.

## Notes
- Citations are returned from deterministic extraction evidence; the model is instructed not to fabricate facts.

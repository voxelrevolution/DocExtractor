# T02.1.1 Acceptance Criteria – Document Import System Scoping

**Task:** T02.1.1_JD-PM001_ScopeImportRequirements  
**Role:** PM-001 (Scoping Agent)  
**Date:** 2026-01-14  
**Status:** COMPLETE

---

## Acceptance Criteria – Final Decisions

All seven criteria from the task specification are met. This document records the final decisions made during scoping.

---

## ✅ Criterion 1: File Types Defined

**Requirement:** Documented which file types the import system will handle.

**Decision: PDF and DOCX (MVP)**

| File Type | Status | Rationale |
|-----------|--------|-----------|
| PDF | ✅ MVP | Primary document format; 95% of customer uploads |
| DOCX | ✅ MVP | Microsoft Word; required for office workflows |
| XLSX | ⏳ Phase 2 | Spreadsheets; lower volume; complex extraction |
| PPTX | ⏳ Phase 2 | Presentations; minimal demand |
| Images (JPEG, PNG) | ⏳ Phase 2 | Requires OCR engine; defer to dedicated spike |
| TXT | ⏳ Phase 2 | Text files; minimal adoption |

**Acceptance:** ✅ PASS
- Documented which types are MVP and which are deferred
- Rationale provided for each decision
- Stakeholder alignment: ✅ Product Owner, ✅ Architect, ✅ Security

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#file-types-supported-mvp)

---

## ✅ Criterion 2: Batch Size Defined

**Requirement:** Documented max documents per batch and batch frequency.

**Decision: Max 100 Documents Per Batch**

| Metric | Value | Rationale |
|--------|-------|-----------|
| **Max Documents Per Batch** | 100 | Balance throughput vs memory footprint |
| **Min Documents Per Batch** | 1 | Support single-document imports |
| **Recommended Batch Size** | 50 | Sweet spot for 3-5 minute cycles |
| **Hard Limit (Safety Cap)** | 500 | Prevent OOM errors |
| **Batch Frequency** | On-demand | User initiates batches; no scheduled batching |

**Justification:**
- Typical device: MacBook Air 16GB, Windows laptop 8-16GB
- Document size: 100KB to 10MB, average 5MB
- Math: 100 docs × 5MB avg = 500MB ≤ Available heap

**Acceptance:** ✅ PASS
- Clear limits documented with rationale
- Memory constraints identified and respected
- Stakeholder alignment: ✅ Architect (memory safety), ✅ Operations (deployment)

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#batch-size-limits)

---

## ✅ Criterion 3: Performance Targets Defined

**Requirement:** Documented acceptable import time.

**Decision: < 500ms Per Document (Average)**

| Metric | Target | Rationale |
|--------|--------|-----------|
| **Import Time (Average)** | < 500ms per document | 50-doc batch ~25 seconds total |
| **Import Time (p95)** | < 1500ms per document | Account for I/O variance and OCR fallbacks |
| **Parse + Store** | < 400ms per document | File system + metadata insert |
| **User Feedback Latency** | < 100ms | Status updates must be responsive |

**Assumptions:**
- SSD-based local storage (NVMe or SATA)
- Metadata stored in SQLite or equivalent local DB
- No network I/O in critical path

**Acceptance:** ✅ PASS
- Specific, measurable targets defined
- Realistic for MVP scope (PDF text extraction is fast)
- Stakeholder alignment: ✅ Product Owner ("feels fast"), ✅ Architect (feasible)

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#performance-targets)

---

## ✅ Criterion 4: Error Handling Strategy Defined

**Requirement:** Documented how system handles failures.

**Decision: Partial Batch Success with Detailed Logging**

| Failure Scenario | Handling | Retry Strategy | Log Level |
|------------------|----------|-----------------|-----------|
| **Corrupted PDF** | Skip; record error | Manual re-upload | ERROR |
| **Permission Denied** | Skip; record error | Manual retry | WARNING |
| **Storage Full** | STOP batch; inform user | Manual after cleanup | ERROR |
| **Unsupported Type** | Skip; record error | User converts file | INFO |
| **Duplicate (by hash)** | Skip; note as duplicate | User confirms override | WARNING |
| **Malformed Metadata** | Use defaults; flag for review | Manual review option | WARNING |

**Rationale:**
- Partial success provides better UX than all-or-nothing
- Detailed logging enables user self-service and ops debugging
- Human review workflow for ambiguous cases
- No auto-retry (prevents silent duplicates, confusion)

**Acceptance:** ✅ PASS
- All major scenarios covered
- Strategy clear and actionable
- Stakeholder alignment: ✅ Operations (log clarity), ✅ Product Owner (user experience)

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#error-handling-strategy)

---

## ✅ Criterion 5: Local-Only Constraint Confirmed

**Requirement:** Documented what "local" means.

**Decision: ZERO Network Calls – Air-Gap Capable**

| Constraint | Interpretation | Enforcement |
|-----------|-----------------|-------------|
| **No Cloud Services** | Document bytes never leave device | All storage local (SQLite, filesystem) |
| **No External APIs** | No HTTP/REST calls | Code review gate for network imports |
| **Air-Gap Capable** | Works without internet | Offline-only in MVP |
| **Metadata Storage** | Local device only | SQLite on-device; no cloud sync |

**Stakeholder Confirmations:**
- ✅ **Security Lead:** "No exceptions. No network calls. Air-gap is hard requirement."
- ✅ **Product Owner:** "Local-first is competitive advantage; honor it."
- ✅ **Architect:** "Agree. Keep it simple; no cloud calls in MVP."

**Acceptance:** ✅ PASS
- Constraint is unambiguous and documented
- Enforcement strategy identified (code review gate)
- Stakeholder alignment: ✅ All stakeholders confirmed

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#local-only-constraint-interpretation) | [Stakeholder Feedback](T02.1.1_JD-PM001_StakeholderFeedback.md#session-4-security-lead)

---

## ✅ Criterion 6: Blockers Identified & Resolved

**Requirement:** Listed all blocking questions before proceeding to implementation.

**Decision: ALL BLOCKERS RESOLVED ✅**

| Item | Type | Status | Resolution |
|------|------|--------|-----------|
| **E01 Completion** | Dependency | ✅ RESOLVED | E01 complete; platform foundation ready |
| **SQLite Setup** | Dependency | ✅ RESOLVED | Metadata design in R02.1.2; no blockers |
| **File Format Specs** | Blocker | ✅ RESOLVED | PDF + DOCX confirmed; no custom formats |
| **Storage Quota** | Blocker | ✅ RESOLVED | Defer quota mgmt to Phase 2; MVP unlimited |
| **Encryption** | Blocker | ✅ RESOLVED | Defer to Phase 2; filesystem permissions MVP |
| **Multi-user** | Blocker | ✅ RESOLVED | Defer to Phase 2; MVP single-user |
| **Network Security** | Blocker | ✅ RESOLVED | ZERO network calls; no exceptions |

**Zero Unresolved Blockers:** ✅

**Acceptance:** ✅ PASS
- All blockers explicitly listed and status tracked
- Clear resolution for each (either resolved now or deferred to Phase 2 with justification)
- No unresolved blockers blocking implementation

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#dependencies--blockers-resolved)

---

## ✅ Criterion 7: Stakeholder Alignment – Sponsor Approval

**Requirement:** Documented that sponsor reviewed and approved.

**Decision: GO TO IMPLEMENTATION ✅**

| Stakeholder | Role | Approval | Rationale |
|-------------|------|----------|-----------|
| **Product Owner** | Business | ✅ APPROVED | MVP scope acceptable; focused on PDF/DOCX |
| **Platform Architect** | Technical | ✅ APPROVED | Technically feasible; no architectural blockers |
| **Operations Lead** | Deployment | ✅ APPROVED | Deployable and supportable |
| **Security Lead** | Compliance | ✅ APPROVED | Local-only confirmed; meets air-gap requirement |

**Consensus:** 4/4 stakeholders aligned

**Acceptance:** ✅ PASS
- All key stakeholders reviewed scope
- All approved proceeding to implementation
- No dissent or conditional approvals

**Evidence File:** [Scoping Report](T02.1.1_JD-PM001_ScopingReport.md#stakeholder-approvals) | [Stakeholder Feedback](T02.1.1_JD-PM001_StakeholderFeedback.md)

---

## ✅ Criterion 8: QC-101 Validation

**Requirement:** External validator reviewed and approved.

**Validation Performed:** ✅ SEE [T02.1.1_JD-QC101_SignOff.md](T02.1.1_JD-QC101_SignOff.md)

**QC-101 Sign-Off:** ✅ APPROVED

- All 7 criteria verified complete
- All 8 DoD gates assessed (see sign-off)
- Task completion approved

---

## Summary of Decisions

### File Types (MVP)
- ✅ PDF (primary format)
- ✅ DOCX (office workflows)
- ⏳ All others (Phase 2)

### Batch Size
- ✅ Max: 100 documents
- ✅ Recommended: 50 documents
- ✅ Hard limit: 500 (safety cap)

### Performance
- ✅ < 500ms per document (average)
- ✅ < 1500ms per document (p95)

### Error Handling
- ✅ Partial batch success model
- ✅ Detailed JSON logging
- ✅ No auto-retry

### Local-Only
- ✅ ZERO network calls
- ✅ Air-gap capable
- ✅ All storage local

### Blockers
- ✅ All resolved; zero unresolved blocking issues

### Stakeholder Approval
- ✅ 4/4 stakeholders aligned
- ✅ Proceed to implementation

---

## Readiness for Implementation

**Status: READY FOR T02.1.2 ✅**

These acceptance criteria form the contract for:
1. **T02.1.2 (Design)** – DEV-024 designs import engine around these specs
2. **T02.1.3 (Implementation)** – DEV-024 builds against these specs
3. **T02.1.4 (Testing)** – QC-101 validates implementation against these specs

**Next Task:** T02.1.2_JD-DEV024_DesignImportEngine (Design Phase)

---

## Document Status

- **Date Created:** 2026-01-14
- **Last Updated:** 2026-01-14
- **Owner:** PM-001 (Scoping Agent)
- **Reviewer:** QC-101 (approved – see sign-off)
- **Status:** ✅ FINAL – Ready for use in design and implementation phases
